# WALL-E Code Issues

- Critical – `roboclaw_node.py` keeps resending the last nonzero command even after `cmd_vel_timeout` stops the motors, because `_heartbeat()` (lines 237-245) republishes `_last_cmd` and `stop_motors()` (lines 224-233) never zeroes that cache. A dropped teleop or nav command can leave the robot driving indefinitely. Reset `_last_cmd` when timing out and gate `_heartbeat()` on a “command still valid” flag.
- High – `gps_waypoint_handler_node.py` blocks the single-threaded executor while waiting for services and feedback: it runs `spin_until_future_complete()` inside the constructor (lines 141-143) and then busy-loops with `time.sleep()` inside the timer callback (lines 184-190). That prevents Nav2 feedback and other callbacks from running, causing stalls. Move conversion work out of callbacks or use a multithreaded executor and non-blocking waits.
- High – `gps_waypoint_follower.launch.py` passes `param_rewrites=""` into `RewrittenYaml` (line 37), which expects a dict. With `convert_types=True`, this can throw or silently ignore rewrites depending on launch version, breaking parameter loading. Initialize it as `{}` (and keep `root_key` empty if no namespace is desired).
- High – RoboClaw geometry defaults in `roboclaw_node.py` (wheel_separation 0.24 m, wheel_diameter 0.105 m at lines 75-76) don’t match the launch defaults (0.39 m and 0.095 m in `roboclaw_launch.py` lines 10-11). Running the node directly or overriding only some params yields incorrect kinematics and odometry. Unify the defaults or enforce parameters from a single source.
- Medium – Navigation localization datum is hard-coded to New Mexico (`dual_ekf_navsat_params.yaml` lines 144-146). Deploying elsewhere without overriding produces multi-meter offsets and unusable GPS fusion. Document and expose the datum as a launch argument with beginner-friendly instructions for changing it.
- Medium – Onboarding docs are not newcomer-safe. `README.md` still lists unimplemented CLI options and TODOs (lines 45-110), while the detailed analysis docs target experts without step-by-step basics (prereqs, how to run a single launch, how to verify topics). This conflicts with the goal of being usable by people with minimal Linux/ROS background. Refresh the README with a minimal “from zero to first launch” flow and cross-link simplified instructions in the analysis set.
